$z_header: 100 !default;
.headerFW{
  .headerFW__nav__wrapper,
  .headerFW__nav{align-items: flex-end;
    .headerFW__nav__inline, 
    &>.mod_navigation{flex-direction: row; display: flex;}
    .headerFW__nav__toggler{width: 40px;
      .bar{background: $secondary;}
    }
  }

  &.is-reduce{
    .headerFW__postnav{height: 100%;align-items: center;}
  } 
.ft-exo2{font-family: "Exo 2",sans-serif;}

h1, h2, h3, h4, h5, h6,
.h1, .h2, .h3, .h4, .h5, .h6{font-family: 'Exo 2', sans-serif;margin-bottom: 1em;}

h1,.h1{font-size: 2.25em; font-weight: 800; text-transform: uppercase;}
h2,.h2{font-size: 1.5em; font-weight: 800; text-transform: uppercase;}
h3,.h3{font-size: 1.125em; font-weight: 800; text-transform: uppercase;}
h4,.h4{font-size: 1em; font-weight: 800;}
h5,.h5{font-size: 1em; font-weight:700;}

.title--underbar{
  &:after{content:""; display: block;border-radius: 1px;height: 5px;width: 35px; background: $primary; margin: 6px 0 0;}
  &.shop:after, .shop &:after{background: color(aliases(shop));}
}
.headerFW__logo__wrapper{max-height: clamp(70px,15vh,120px);
  @include media-max(md){max-width: 200px;}
}
.headerFW__logo{width: 100%;}

.headerFW__postnav{
  .cart{ 
    position: relative; 
    text-align: center; 
    color: contrastFW($secondary, header(background)); 
    opacity: 0.6; 
    transition: opacity 0.3s; 
    margin-right: 0.5em;
    i[class*="fa"],svg{width: 1em; height: 1em;}
    .nb_items{
        font-size: 0.8em;
        color: $primary;
        font-weight: bold;
        position: absolute;
        background: white;
        right: 0;
        top: 0;
        width: 1.5em;
        height: 1.5em;
        line-height: 1;
        display: flex;
        justify-content: center;
        align-items: center;
        border-radius: 60px;
        box-shadow: 0px 0px 3px 0px black;
        transform: translate(50%,-50%);
        &:empty{display: none;}
    }
  }
}

.headerFW__topbar{height: 0;overflow: visible;z-index: $z_header+1; position: sticky; top: 0; right: 0; }
.topbar{ float: right;
  & .search{ 
    @include media-max(xs){width: auto;}
  }
  .headerFW:not(.active)+.headerFW__topbar>&{opacity: 0; pointer-events: none;}
  .headerFW.is-reduce+.headerFW__topbar>&{
    position: fixed; z-index: 1; opacity: 0; pointer-events: none; transition: all 0.6s; left: 0; bottom: 0; transform: translateY(100%);
    &:before{left: auto; right: 0; transform: skewX(30deg) translateX(30%);}
    &.active{opacity: 1; pointer-events: all;transform: translateY(0%);}
  }
}

.headerFW__sidepanel{z-index: $z_header+1;}


.heroFW.hero--apm{ font-size: 1em;
  @extend .content--h--left,.content--v--top;
  .heroFW__content{padding: 5% 0;}
  .heroFW__content__wrapper{ padding: 2em 2.5em; background: rgba(body(block-background),0.8); color: contrastFW(body(font-color),rgba(body(block-background),0.8));
    p{max-width: 50ch;}
  } 
}

// ISOTOPE
.mod_iso_productreader{
  *:not(.modalFW__content)>& {
    .iso__block:nth-of-type(2){background:color(altradred); color:white; 
      .btn{@extend .btn-bg-white;}
    }
    .iso__block:nth-of-type(4) {background:color(greylighter); }
  }
  .heroFW{display: flex;min-height: 50vh !important; }
  .isSubproductsList{
    .heroFW{min-height: 0 !important;}
  }

  .modalFW &{
    min-width: 40vw;
    .sliderFW__container{min-height: 400px;}
    .sliderFW__rail {height: 100%;}
    .iso__contentwrapper{display: block !important;}
    .heroFW{min-height: 0 !important;}
  }
}

.mod_iso_cart{
  .table-list__container{
    figure{margin: 0; background: color(greylighter);
      img{width: 100%; height: 120px; object-fit: contain;}
    }
  }
  tr.product{@extend .table-list__line;}
  .table-list__cell{vertical-align: middle;padding: 1em;
    &:is(td.image){padding: 0; width: 120px;}
    &:is(td.price){text-align: center;}
  }
  .input-number__container{margin: 0; max-width: 100px;}
  .submit_container.d-grid{gap: 0.5rem;}
  .actions a{padding: 1rem;font-size: 1.35em;}
  .actions a.remove{color: rgba($error,0.5);}

  .cart__wrapper{display: flex;flex-wrap: wrap; gap: 2em; max-width: 1600px;}
  .cart__col{
    flex-grow: 1; 
    flex-shrink: 0;
    flex-basis: 30%; 
    max-width: 100%;
    min-width: 450px;
    @include media-max(sm){min-width: 300px;}
    @include media-max(xs){min-width: 100%;}
  }
}

.addToCart__wrapper{position: sticky; top: 80px;  z-index: 1; height: 0;
  input{ box-shadow: 0px 0px 1px 1px rgba(#000,0.15);}
  .w-full{z-index: 1; padding: 1rem 1.5rem; display: flex;flex-wrap: wrap;justify-content: flex-end; gap: 1rem;}
} 


.iso__subproducts{
  .table-list__cell{vertical-align: middle;
    &[data-name=picture]{width: 150px;}
    &[data-name=name]{text-align: center; max-width: 200px; margin: auto;}
    &[data-name=teaser]{ min-width: 200px;
      span.teaser{@include multi-ellipsis($font-size: 1em, $line-height: 1.5, $lines-to-show: 4)}
    }
  }
  .table-list__line.separator{color: rgba(contrastFW($primary,body(background)),0.5);}
  .table-list{
    &.mode--block{
      .table-list__cell[data-name=picture]{margin: auto;}
    }
  }
}

// OFFERS
.offer{cursor: pointer;}
